<?xml version="1.0" encoding="utf-8"?>
<TestRun id="49631f6e-4a02-4192-b08d-3f0af963c286" name="fbjda@PC-DAVID 2025-11-28 08:47:40" runUser="PC-DAVID\fbjda" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010">
  <Times creation="2025-11-28T08:47:40.7128454-04:00" queuing="2025-11-28T08:47:40.7128459-04:00" start="2025-11-28T08:47:37.5135771-04:00" finish="2025-11-28T08:47:44.8117709-04:00" />
  <TestSettings name="default" id="330f3d2e-c8b3-4da6-8129-3381c5ac1a6a">
    <Deployment runDeploymentRoot="fbjda_PC-DAVID_2025-11-28_08_47_40" />
  </TestSettings>
  <Results>
    <UnitTestResult executionId="fef78bb5-adc3-441d-81bf-053e73f94999" testId="ff770c51-2347-fa48-da89-bd01047245b6" testName="Audit360.IntegrationTests.Repositories.AuditWriteRepositoryIntegrationTests.CreateAsync_Works_WithInMemoryDb" computerName="PC-DAVID" duration="00:00:02.2180821" startTime="2025-11-28T08:47:39.9205910-04:00" endTime="2025-11-28T08:47:42.1341818-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="fef78bb5-adc3-441d-81bf-053e73f94999" />
    <UnitTestResult executionId="84499684-b747-45a8-923a-977f53341a5b" testId="ffb5ed71-fe7e-eb90-6433-d2db84973862" testName="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests.DbUpdateException_WithInnerSqlException_IsHandled" computerName="PC-DAVID" duration="00:00:00.2571756" startTime="2025-11-28T08:47:39.9202498-04:00" endTime="2025-11-28T08:47:40.2253930-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="84499684-b747-45a8-923a-977f53341a5b" />
    <UnitTestResult executionId="2c9a6272-e331-4d5c-b73a-840f808f5393" testId="f093aa1a-0fb4-c03e-0247-ea2eb6f3ed02" testName="Audit360.IntegrationTests.Repositories.UserWriteRepositoryIntegrationTests.Create_Update_Delete_DoNotThrow_InMemory_or_HandleRelationalRequirements" computerName="PC-DAVID" duration="00:00:02.2132533" startTime="2025-11-28T08:47:39.9207090-04:00" endTime="2025-11-28T08:47:42.1325544-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="2c9a6272-e331-4d5c-b73a-840f808f5393" />
    <UnitTestResult executionId="5b1d2b2e-15d5-4300-8d28-5ffeebd3a9c0" testId="ec077618-45bd-c219-3f4f-ce4760047c19" testName="Audit360.IntegrationTests.Repositories.FindingsReadRepositoryIntegrationTests.GetListAndGetById_DoNotThrow_WithSqliteInMemory" computerName="PC-DAVID" duration="00:00:04.5793487" startTime="2025-11-28T08:47:39.9208054-04:00" endTime="2025-11-28T08:47:44.4996135-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="5b1d2b2e-15d5-4300-8d28-5ffeebd3a9c0" />
    <UnitTestResult executionId="f6b3d8ae-b42c-4a45-8e5f-abdd484946f8" testId="c6885c5f-648b-ffb3-5ba9-6d8598ee6804" testName="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests.SqlException_IsHandled_Returns_Conflict" computerName="PC-DAVID" duration="00:00:00.0056673" startTime="2025-11-28T08:47:40.2949000-04:00" endTime="2025-11-28T08:47:40.2950699-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="f6b3d8ae-b42c-4a45-8e5f-abdd484946f8" />
    <UnitTestResult executionId="04252e9d-6d9c-4358-b539-325f9f3a73c0" testId="ae61eda4-750d-bfe5-86dc-13c42dfb3ccf" testName="Audit360.IntegrationTests.UsersEndpointTests.CreateUser_Returns_Conflict_On_Db_FK_Error" computerName="PC-DAVID" duration="00:00:04.6115483" startTime="2025-11-28T08:47:39.9121740-04:00" endTime="2025-11-28T08:47:44.5342681-04:00" testType="13cdc9d9-ddb5-4fa4-a97d-d965ccfc6d4b" outcome="Passed" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" relativeResultsDirectory="04252e9d-6d9c-4358-b539-325f9f3a73c0" />
  </Results>
  <TestDefinitions>
    <UnitTest name="Audit360.IntegrationTests.Repositories.FindingsReadRepositoryIntegrationTests.GetListAndGetById_DoNotThrow_WithSqliteInMemory" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="ec077618-45bd-c219-3f4f-ce4760047c19">
      <Execution id="5b1d2b2e-15d5-4300-8d28-5ffeebd3a9c0" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.Repositories.FindingsReadRepositoryIntegrationTests" name="GetListAndGetById_DoNotThrow_WithSqliteInMemory" />
    </UnitTest>
    <UnitTest name="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests.SqlException_IsHandled_Returns_Conflict" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="c6885c5f-648b-ffb3-5ba9-6d8598ee6804">
      <Execution id="f6b3d8ae-b42c-4a45-8e5f-abdd484946f8" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests" name="SqlException_IsHandled_Returns_Conflict" />
    </UnitTest>
    <UnitTest name="Audit360.IntegrationTests.UsersEndpointTests.CreateUser_Returns_Conflict_On_Db_FK_Error" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="ae61eda4-750d-bfe5-86dc-13c42dfb3ccf">
      <Execution id="04252e9d-6d9c-4358-b539-325f9f3a73c0" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.UsersEndpointTests" name="CreateUser_Returns_Conflict_On_Db_FK_Error" />
    </UnitTest>
    <UnitTest name="Audit360.IntegrationTests.Repositories.UserWriteRepositoryIntegrationTests.Create_Update_Delete_DoNotThrow_InMemory_or_HandleRelationalRequirements" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="f093aa1a-0fb4-c03e-0247-ea2eb6f3ed02">
      <Execution id="2c9a6272-e331-4d5c-b73a-840f808f5393" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.Repositories.UserWriteRepositoryIntegrationTests" name="Create_Update_Delete_DoNotThrow_InMemory_or_HandleRelationalRequirements" />
    </UnitTest>
    <UnitTest name="Audit360.IntegrationTests.Repositories.AuditWriteRepositoryIntegrationTests.CreateAsync_Works_WithInMemoryDb" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="ff770c51-2347-fa48-da89-bd01047245b6">
      <Execution id="fef78bb5-adc3-441d-81bf-053e73f94999" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.Repositories.AuditWriteRepositoryIntegrationTests" name="CreateAsync_Works_WithInMemoryDb" />
    </UnitTest>
    <UnitTest name="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests.DbUpdateException_WithInnerSqlException_IsHandled" storage="d:\personales\evaluaciones técnicas\proyecto\audit360\audit360.integrationtests\bin\debug\net10.0\audit360.integrationtests.dll" id="ffb5ed71-fe7e-eb90-6433-d2db84973862">
      <Execution id="84499684-b747-45a8-923a-977f53341a5b" />
      <TestMethod codeBase="D:\Personales\Evaluaciones Técnicas\Proyecto\Audit360\Audit360.IntegrationTests\bin\Debug\net10.0\Audit360.IntegrationTests.dll" adapterTypeName="executor://xunit/VsTestRunner3/netcore/" className="Audit360.IntegrationTests.DatabaseExceptionMiddlewareTests" name="DbUpdateException_WithInnerSqlException_IsHandled" />
    </UnitTest>
  </TestDefinitions>
  <TestEntries>
    <TestEntry testId="ff770c51-2347-fa48-da89-bd01047245b6" executionId="fef78bb5-adc3-441d-81bf-053e73f94999" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="ffb5ed71-fe7e-eb90-6433-d2db84973862" executionId="84499684-b747-45a8-923a-977f53341a5b" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="f093aa1a-0fb4-c03e-0247-ea2eb6f3ed02" executionId="2c9a6272-e331-4d5c-b73a-840f808f5393" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="ec077618-45bd-c219-3f4f-ce4760047c19" executionId="5b1d2b2e-15d5-4300-8d28-5ffeebd3a9c0" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="c6885c5f-648b-ffb3-5ba9-6d8598ee6804" executionId="f6b3d8ae-b42c-4a45-8e5f-abdd484946f8" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestEntry testId="ae61eda4-750d-bfe5-86dc-13c42dfb3ccf" executionId="04252e9d-6d9c-4358-b539-325f9f3a73c0" testListId="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
  </TestEntries>
  <TestLists>
    <TestList name="Results Not in a List" id="8c84fa94-04c1-424b-9868-57a2d4851a1d" />
    <TestList name="All Loaded Results" id="19431567-8539-422a-85d7-44ee4e166bda" />
  </TestLists>
  <ResultSummary outcome="Completed">
    <Counters total="6" executed="6" passed="6" failed="0" error="0" timeout="0" aborted="0" inconclusive="0" passedButRunAborted="0" notRunnable="0" notExecuted="0" disconnected="0" warning="0" completed="0" inProgress="0" pending="0" />
    <Output>
      <StdOut>[xUnit.net 00:00:00.01] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 10.0.0)&#xD;
[xUnit.net 00:00:00.39]   Discovering: Audit360.IntegrationTests&#xD;
[xUnit.net 00:00:00.57]   Discovered:  Audit360.IntegrationTests&#xD;
[xUnit.net 00:00:00.66]   Starting:    Audit360.IntegrationTests&#xD;
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]&#xD;
      Failed to determine the https port for redirect.&#xD;
warn: LuckyPennySoftware.MediatR.License[0]&#xD;
      You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.&#xD;
fail: Microsoft.EntityFrameworkCore.Database.Command[20102]&#xD;
      Failed executing DbCommand (100ms) [Parameters=[@Username='?' (Size = 8), @Email='?' (Size = 16), @PasswordHash='?' (Size = 60), @FullName='?' (Size = 4), @IsActive='?' (DbType = Boolean), @RoleId='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']&#xD;
      EXEC usp_User_Create @Username, @Email, @PasswordHash, @FullName, @IsActive, @RoleId&#xD;
fail: Audit360.API.Middleware.DatabaseExceptionMiddleware[0]&#xD;
      Database SQL error occurred (simulated or real). Number: 8144&#xD;
      Microsoft.Data.SqlClient.SqlException (0x80131904): Procedure or function usp_User_Create has too many arguments specified.&#xD;
         at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)&#xD;
         at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)&#xD;
         at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)&#xD;
         at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)&#xD;
         at Microsoft.Data.SqlClient.SqlCommand.&lt;&gt;c.&lt;InternalExecuteNonQueryAsync&gt;b__193_1(IAsyncResult asyncResult)&#xD;
         at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)&#xD;
      --- End of stack trace from previous location ---&#xD;
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xD;
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xD;
         at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xD;
         at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)&#xD;
         at Audit360.Infrastructure.Repositories.Write.UserWriteRepository.CreateAsync(User entity) in D:\Personales\Evaluaciones T�cnicas\Proyecto\Audit360\Audit360.Infrastructure\Repositories\Write\UserWriteRepository.cs:line 26&#xD;
         at Audit360.Application.Features.Users.Handlers.UserCommandHandler.Handle(CreateUserCommand request, CancellationToken cancellationToken) in D:\Personales\Evaluaciones T�cnicas\Proyecto\Audit360\Audit360.Application\Features\Users\Handlers\UserCommandHandler.cs:line 31&#xD;
         at Audit360.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in D:\Personales\Evaluaciones T�cnicas\Proyecto\Audit360\Audit360.Application\Behaviors\ValidationBehavior.cs:line 37&#xD;
         at Audit360.API.Controllers.UsersController.Create(UserWriteDto dto) in D:\Personales\Evaluaciones T�cnicas\Proyecto\Audit360\Audit360.API\Controllers\UsersController.cs:line 48&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeInnerFilterAsync&gt;g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)&#xD;
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)&#xD;
         at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)&#xD;
         at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)&#xD;
         at Audit360.API.Middleware.DatabaseExceptionMiddleware.InvokeAsync(HttpContext context) in D:\Personales\Evaluaciones T�cnicas\Proyecto\Audit360\Audit360.API\Middleware\DatabaseExceptionMiddleware.cs:line 24&#xD;
      ClientConnectionId:8c77c2c5-0806-47c1-8a6b-e8faacae7c81&#xD;
      Error Number:8144,State:2,Class:16&#xD;
[xUnit.net 00:00:05.45]   Finished:    Audit360.IntegrationTests&#xD;
</StdOut>
    </Output>
  </ResultSummary>
</TestRun>